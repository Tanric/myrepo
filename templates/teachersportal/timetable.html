{% extends 'webbase.html' %}
{% load static %}
{% block content %}
<style>
	html {
		scroll-behavior: smooth;

	}

	.card-body .card-text a {
		background-color: inherit !important;
	}
</style>
<link rel="stylesheet" href="{% static 'website/css/app.css' %}" type="text/css" />
<div class="wrapper">
	<nav id="sidebar" class="sidebar" style="margin-right: 0;">
		<div class="sidebar-content js-simplebar">
			<a class="sidebar-brand" href="{% url 'home' %}">
				<span class="align-middle">Karkhana Makerspace</span>
			</a>

			<ul class="sidebar-nav">
				<li class="sidebar-item">
					<a class="sidebar-link" href={% url 'teachersportal:teacherprofile' %}>
						<i class="align-middle" data-feather="home"></i> <span class="align-middle">Home</span>
					</a>
				</li>
				<li class="sidebar-item">
					<a class="sidebar-link" href={% url 'teachersportal:sessiondashboard' course_session_id %}>
						<i class="align-middle" data-feather="sliders"></i> <span class="align-middle">Dashboard</span>
					</a>
				</li>

				<li class="sidebar-item">
					<a class="sidebar-link" href={% url 'teachersportal:chat' course_session_id %}>
						<i class="align-middle" data-feather="user"></i> <span class="align-middle warning">Chat</span>
					</a>
				</li>

				<li class="sidebar-item">
					<a class="sidebar-link" href="{% url 'teachersportal:timetable' course_session_id %}">
						<i class="align-middle" data-feather="settings"></i> <span class="align-middle">Timetable</span>
					</a>
				</li>

				<li class="sidebar-item">
					<a class="sidebar-link" href={% url 'faq'%}
>
						<i class="align-middle" data-feather="credit-card"></i> <span class="align-middle">FAQ</span>
					</a>
				</li>

				<li class="sidebar-item">
					<a class="sidebar-link" href={% url "accounts:logout" %}>
						<i class="align-middle" data-feather="book"></i> <span class="align-middle">Sign-Out</span>
					</a>
				</li>
		</div>
	</nav>

	<div class="main">
		<nav class="navbar navbar-expand navbar-light navbar-bg">
			<a class="sidebar-toggle d-flex">
				<i class="hamburger align-self-center"></i>
			</a>
		</nav>

		<main class="content">
			<div class="container-fluid ">
				<div class="flex-row mb-4">
					{% include 'messages.html' %}
					
					{% if schedules %}
						
					<table class="table border-bottom">
						<thead>
							<tr>
								<th>Event Name</th>
								<th>Date and Time</th>
								<th>Link</th>
								<th>Delete this entry?</th>
							</tr>
						</thead>
						<tbody>
							{% for schedule in schedules %}
							<tr>
								<td>{{ schedule.text }}</td>
								<td>{{ schedule.datetime }}</td>
								<td><a href={{ schedule.link }}>{{ schedule.link }}</a></td>
								<td><a href={% url 'teachersportal:timetable_delete' course_session_id schedule.pk %}><button type="button" class="btn btn-outline-info">Delete</button></a></td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
					{% else %}
						<p class="text-muted h3">No entry in timetable. Start with adding entries below.</p>
					{% endif %}
						
					<form method="post">
						{% csrf_token %}
						<h3 class="mt-5 mb-3">Create a new event</h3>	
						{% for field in form %}
						<div class="mb-2">
							{{ field.label }}
							{{ field }}
							{{ field.errors }}
						</div>
						{% endfor %}
							
						<input class="btn btn-info" type="submit" value="Submit">
					</form>
				</div>
			</div>
		</main>
	</div>
</div>
<script src="{% static "website/js/app.js"%}"></script>

{% endblock %}